<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-10">
    <h1 class="text-3xl font-bold mb-8 text-center">Order Management</h1>
    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-gray-800 text-white">
                <tr>
                    <th class="p-4">Order ID</th>
                    <th class="p-4">Date</th>
                    <th class="p-4">Total</th>
                    <th class="p-4">Slip</th>
                </tr>
            </thead>
            <tbody id="order-list"></tbody>
        </table>
    </div>

    <script>
        const orders = JSON.parse(localStorage.getItem('orders')) || [];
        document.getElementById('order-list').innerHTML = orders.map(o => `
            <tr class="border-b hover:bg-gray-50">
                <td class="p-4 font-mono text-sm">${o.orderID}</td>
                <td class="p-4 text-sm">${o.date}</td>
                <td class="p-4 font-bold text-blue-600">${o.total}</td>
                <td class="p-4">
                    <button onclick="viewSlip('${o.slip}')" class="bg-gray-200 px-3 py-1 rounded text-xs">View Slip</button>
                </td>
            </tr>
        `).join('');

        function viewSlip(base64) {
            const win = window.open();
            win.document.write(`<img src="${base64}" style="max-width:100%">`);
        }
    </script>
</body>
</html>
